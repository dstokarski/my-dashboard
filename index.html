<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Top Bar -->
        <header class="header">
            <div class="header-left">
                <div class="time-display">
                    <div id="time" class="time"></div>
                    <div id="date" class="date"></div>
                </div>
            </div>
            <div class="header-right">
                <button id="sign-in-btn" class="btn btn-primary">
                    <span class="btn-icon">ðŸ‘¤</span> Sign in
                </button>
                <div id="user-section" class="user-section" style="display: none;">
                    <span id="user-name" class="user-name"></span>
                    <button id="edit-btn" class="btn btn-secondary">Edit</button>
                    <button id="sign-out-btn" class="btn btn-secondary">Sign out</button>
                </div>
            </div>
        </header>

        <!-- Weather Section -->
        <section class="weather-grid">
            <div class="weather-card">
                <h3 class="weather-title">Ottawa, ON</h3>
                <div id="weather-ottawa" class="weather-content">
                    <p class="loading">Loading weather data...</p>
                </div>
            </div>
            <div class="weather-card">
                <h3 class="weather-title">Chelsea, QC</h3>
                <div id="weather-chelsea" class="weather-content">
                    <p class="loading">Loading weather data...</p>
                </div>
            </div>
        </section>

        <!-- Cards Grid -->
        <section class="cards-container">
            <div id="cards-grid" class="cards-grid"></div>
        </section>

        <!-- Static Cards Section -->
        <section class="static-cards-container">
            <div class="static-cards-grid">
                <div class="static-card photo-card">
                    <h3 class="static-card-title">Photo of the Day</h3>
                    <div id="photo-1" class="photo-content">
                        <p class="loading">Loading photo...</p>
                    </div>
                </div>
                <div class="static-card photo-card">
                    <h3 class="static-card-title">Nature</h3>
                    <div id="photo-2" class="photo-content">
                        <p class="loading">Loading photo...</p>
                    </div>
                </div>
                <div class="static-card quote-card">
                    <h3 class="static-card-title">Inspiration</h3>
                    <div id="quote-content" class="quote-content">
                        <p class="loading">Loading quote...</p>
                    </div>
                </div>
                <div class="static-card joke-card">
                    <h3 class="static-card-title">Daily Joke</h3>
                    <div id="joke-content" class="joke-content">
                        <p class="loading">Loading joke...</p>
                    </div>
                </div>
                <div class="static-card suggestions-card">
                    <h3 class="static-card-title">Suggestions</h3>
                    <div id="suggestions-content" class="suggestions-content">
                        <p class="loading">Loading suggestions...</p>
                    </div>
                </div>
                <div class="static-card nhl-card">
                    <h3 class="static-card-title">NHL Standings</h3>
                    <div id="nhl-standings" class="nhl-standings-content">
                        <p class="loading">Loading standings...</p>
                    </div>
                </div>
                <div class="static-card leafs-card">
                    <h3 class="static-card-title">Maple Leafs Recent Games</h3>
                    <div id="leafs-games" class="leafs-games-content">
                        <p class="loading">Loading games...</p>
                    </div>
                </div>
                <div class="static-card saved-sites-card">
                    <div class="saved-sites-header">
                        <h3 class="static-card-title">Saved Sites</h3>
                        <button id="edit-saved-sites-btn" class="btn btn-secondary btn-sm">Edit</button>
                    </div>
                    <div id="saved-sites-content" class="saved-sites-content">
                        <p class="loading">No saved sites yet</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-dialog">
            <div class="modal-header">
                <h2 id="modal-title">Edit Card</h2>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="card-title-input">Title</label>
                    <input type="text" id="card-title-input" class="form-control" placeholder="Card title">
                </div>
                <div class="form-group">
                    <label>Links</label>
                    <div id="links-container" class="links-container"></div>
                    <button id="add-link-btn" class="btn btn-secondary btn-sm">
                        <span class="btn-icon">+</span> Add Link
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button id="delete-card-btn" class="btn btn-danger">Delete Card</button>
                <div class="modal-actions">
                    <button id="cancel-btn" class="btn btn-secondary">Cancel</button>
                    <button id="save-btn" class="btn btn-primary">Save</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>

    <!-- Firebase -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getDatabase, ref, set, get, remove } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';
        import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyC759vXRewzcVTSy60lhPx_q5Ezx3uL4Qw",
            authDomain: "dashboard-links-4d73a.firebaseapp.com",
            databaseURL: "https://dashboard-links-4d73a-default-rtdb.firebaseio.com",
            projectId: "dashboard-links-4d73a",
            storageBucket: "dashboard-links-4d73a.firebasestorage.app",
            messagingSenderId: "91468827178",
            appId: "1:91468827178:web:53c1485241023ae4785153"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        window.firebase = {
            db: { database, ref, set, get, remove },
            auth: { auth, provider, signInWithPopup, signOut, onAuthStateChanged }
        };

        window.dispatchEvent(new Event('firebaseReady'));
    </script>
    <script src="firebase-manager.js"></script>
</body>
</html>
